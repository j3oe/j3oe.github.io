<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Portfolio â€“ Unified</title>
<style>
  body { background:#111; color:#ddd; font-family:'Segoe UI',sans-serif; margin:0; padding:0; }
  h2 { color:#f0f0f0; margin-top:40px; text-align:center; }
  section { padding:40px 20px; max-width:1000px; margin:auto; }

  /* Skills */
  .skill-group h3 { color:#ccc; margin-bottom:0.5rem; }
  .pills { display:flex; flex-wrap:wrap; gap:0.5rem; justify-content:center; }
  .pill {
    background:#222; color:#fff; padding:0.5rem 1rem;
    border-radius:999px; cursor:pointer; transition:0.3s, box-shadow 0.3s;
    position: relative; border:1px solid #444;
  }
  .pill:hover { background:#111; box-shadow:0 0 10px #aaa,0 0 20px #aaa3; border-color:#888; }

  /* Tooltip */
  .tooltip {
    position:fixed; top:50%; left:50%; transform:translate(-50%,-50%) scale(0.8);
    background:#1a1a1a; padding:1rem; border:1px solid #888;
    border-radius:10px; max-width:300px; color:#fff;
    box-shadow:0 0 20px #8883; opacity:0; pointer-events:none;
    transition:opacity 0.3s ease, transform 0.3s ease;
    z-index:1000;
  }
  .tooltip.visible { opacity:1; pointer-events:auto; transform:translate(-50%,-50%) scale(1); }
  .tooltip-close {
    position:absolute; top:8px; right:12px; cursor:pointer; font-size:18px; color:#ccc;
  }

  /* Projects */
  .projects-container {
    display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
    gap:20px; margin-top:20px;
  }
  .project {
    background:#222; padding:20px; border-radius:10px;
    cursor:pointer; text-align:center;
    transition:background 0.3s;
  }
  .project:hover { background:#333; }
  .modal {
    display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:2000;
  }
  .modal-content {
    background:#1a1a1a; padding:20px; border-radius:10px;
    max-width:400px; width:90%; position:relative; color:#fff;
  }
  .close {
    position:absolute; top:10px; right:15px;
    font-size:22px; cursor:pointer; color:#ccc;
  }

  /* Playground */
  #playground-container {
    display:flex; flex-direction:column; gap:15px;
    background:#1a1a1a; padding:20px; border-radius:10px;
  }
  #codeInput {
    width:100%; height:200px; background:#222; color:#eee;
    border:none; padding:10px; border-radius:6px; font-family:monospace; resize:vertical;
  }
  #runBtn {
    background:#444; color:#fff; padding:10px 20px;
    border:none; border-radius:6px; cursor:pointer; transition:background 0.3s;
    align-self:flex-start;
  }
  #runBtn:hover { background:#666; }
  #preview { width:100%; height:250px; background:#fff; border-radius:6px; border:none; }

  /* Dev Log */
  #markdownInput {
    width:100%; height:200px; background:#222; color:#eee;
    border:none; padding:10px; border-radius:6px; font-family:monospace; resize:vertical;
  }
  #renderBtn {
    background:#444; color:#fff; padding:10px 20px;
    border:none; border-radius:6px; cursor:pointer; transition:background 0.3s; margin-top:10px;
  }
  #renderBtn:hover { background:#666; }
  #devLogPreview { background:#1a1a1a; padding:20px; border-radius:10px; margin-top:20px; }
</style>
</head>
<body>

<!-- Skills -->
<section id="skills">
  <h2>Skills</h2>
  <div class="skill-group">
    <div class="pills">
      <span class="pill" data-info="Building the structure of web pages.">Web Development</span>
      <span class="pill" data-info="Designing clean and usable interfaces.">UI Design</span>
      <span class="pill" data-info="Creating intuitive user experiences.">UX Design</span>
      <span class="pill" data-info="Making layouts adapt to all devices.">Responsive Design</span>
      <span class="pill" data-info="Turning ideas into quick mockups and flows.">Prototyping</span>
    </div>
  </div>
  <div class="tooltip" id="tooltip">
    <div class="tooltip-close" id="tooltipClose">&times;</div>
    <div id="tooltipContent"></div>
  </div>
</section>

<!-- Projects -->
<section id="projects">
  <h2>Projects</h2>
  <div class="projects-container">
    <div class="project" data-project="1">Project 1<br>Game Prototype</div>
    <div class="project" data-project="2">Project 2<br>AI API Experiment</div>
    <div class="project" data-project="3">Project 3<br>Note-taking Tool</div>
  </div>
  <div class="modal" id="projectModal">
    <div class="modal-content">
      <span class="close" id="projectClose">&times;</span>
      <div id="projectBody"></div>
    </div>
  </div>
</section>

<!-- Playground -->
<section id="code-playground">
  <h2>Code Playground</h2>
  <div id="playground-container">
    <p>Write HTML/CSS/JS below and click <strong>Run</strong>:</p>
    <textarea id="codeInput">
<!-- Example -->
<h1 style="color:gray;">Hello World!</h1>
<script>
  console.log("Hello from inside the iframe!");
</script>
    </textarea>
    <button id="runBtn">Run Code</button>
    <iframe id="preview" sandbox="allow-scripts allow-same-origin"></iframe>
  </div>
</section>

<!-- Dev Log -->
<section id="dev-log">
  <h2>Developer Log</h2>
  <p>Write Markdown to create quick dev notes. Click <strong>Render</strong> to convert to HTML.</p>
  <textarea id="markdownInput"># My First Dev Log
Today I added a **Code Playground** and **Dev Log** to my portfolio!
- Learned about iframe sandboxing.
- Practiced Markdown parsing with [marked.js](https://github.com/markedjs/marked).
  </textarea>
  <button id="renderBtn">Render Markdown</button>
  <div id="devLogPreview"></div>
</section>

<!-- marked.js for Markdown rendering -->
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {

  /* ===== Skills Tooltip ===== */
  const tooltip = document.getElementById('tooltip');
  const tooltipContent = document.getElementById('tooltipContent');
  const tooltipClose = document.getElementById('tooltipClose');
  document.querySelectorAll('.pill').forEach(pill => {
    pill.addEventListener('click', () => {
      tooltipContent.textContent = pill.dataset.info;
      tooltip.classList.add('visible');
    });
  });
  tooltipClose.addEventListener('click', () => tooltip.classList.remove('visible'));
  window.addEventListener('click', e => {
    if(e.target === tooltip) tooltip.classList.remove('visible');
  });

  /* ===== Projects Modal ===== */
  const projectBodies = {
    1: "<h3>Game Prototype</h3><p>A simple click-counter game with score tracking.</p>",
    2: "<h3>AI API Experiment</h3><p>Testing API calls and mock AI responses for fun interactions.</p>",
    3: "<h3>Note-taking Tool</h3><p>A browser-based note saver using localStorage.</p>"
  };
  const projectModal = document.getElementById("projectModal");
  const projectBody = document.getElementById("projectBody");
  const projectClose = document.getElementById("projectClose");
  document.querySelectorAll(".project").forEach(p => {
    p.addEventListener("click", () => {
      const key = p.dataset.project;
      projectBody.innerHTML = projectBodies[key] || "<p>No content available.</p>";
      projectModal.style.display = "flex";
    });
  });
  projectClose.addEventListener("click", () => projectModal.style.display = "none");
  window.addEventListener("click", e => {
    if (e.target === projectModal) projectModal.style.display = "none";
  });

  /* ===== Code Playground ===== */
  const runBtn = document.getElementById('runBtn');
  const codeInput = document.getElementById('codeInput');
  const preview = document.getElementById('preview');
  runBtn.addEventListener('click', () => {
    const code = codeInput.value;
    const blob = new Blob([code], { type: 'text/html' });
    preview.src = URL.createObjectURL(blob);
  });

  /* ===== Dev Log ===== */
  const renderBtn = document.getElementById('renderBtn');
  const markdownInput = document.getElementById('markdownInput');
  const devLogPreview = document.getElementById('devLogPreview');
  renderBtn.addEventListener('click', () => {
    devLogPreview.innerHTML = marked.parse(markdownInput.value);
  });
  // Render initial markdown
  devLogPreview.innerHTML = marked.parse(markdownInput.value);
});
</script>
</body>
</html>
